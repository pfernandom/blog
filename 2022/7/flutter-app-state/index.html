<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Avenir Next','Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Helvetica Neue','Segoe UI','Helvetica','Arial',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}</style><meta data-react-helmet="true" name="twitter:description" content="Managing state in a Flutter app using data streams and a service locator"/><meta data-react-helmet="true" name="twitter:title" content="Managing state in Flutter apps with streaming (Rxdart and get_it)"/><meta data-react-helmet="true" name="twitter:creator" content="Pedro Marquez"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:description" content="Managing state in a Flutter app using data streams and a service locator"/><meta data-react-helmet="true" property="og:title" content="Managing state in Flutter apps with streaming (Rxdart and get_it)"/><meta data-react-helmet="true" name="description" content="Managing state in a Flutter app using data streams and a service locator"/><meta name="theme-color" content="#663399"/><meta name="generator" content="Gatsby 4.18.2"/><style data-href="/styles.ad1395fdc9ca3b915480.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-a5bfe500a212b55e1d97ab22ec963cc2.woff2) format("woff2"),url(/static/montserrat-latin-100-f3fd3a8cda2788c9187834cf76d76d57.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-c4fd7303dedad09a44867a2c79296456.woff2) format("woff2"),url(/static/montserrat-latin-100italic-8545c5c9716e859e79c61d608b561504.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-11e53b4b006a3bacb5b027c6a9bb64ce.woff2) format("woff2"),url(/static/montserrat-latin-200-b6f663e2de4a8379688cdba1b954edbc.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-32131f2a84c4a3abee7d2fd2b49850ad.woff2) format("woff2"),url(/static/montserrat-latin-200italic-cd7b7fa2da727185e9a74724658bcc65.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-c587fd5d56f85fb730092fc82551b5a1.woff2) format("woff2"),url(/static/montserrat-latin-300-46b5c290e8fd38b7639e3f9383c2ac56.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-ca09533c023a3a9df2fb0167c26e0fdb.woff2) format("woff2"),url(/static/montserrat-latin-300italic-f56d740b2c209398b341cc025a9c77d6.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-504499c7e16ee847a32a7a8bf6923a79.woff2) format("woff2"),url(/static/montserrat-latin-400-7710fcbaccd9837e1c5e7e819bf1d230.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-920286bb1fd8ffb693ef17a42546ee3a.woff2) format("woff2"),url(/static/montserrat-latin-400italic-035e0faa25a71eeab032f07cf5490eef.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-6fd836a65acf6d59bd2f5e0be5717207.woff2) format("woff2"),url(/static/montserrat-latin-500-561e37f444fecedbe680a382e941392a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-44f475da8da3427ecc77a4450f00452c.woff2) format("woff2"),url(/static/montserrat-latin-500italic-4d2fdf6bcf6c74b893e69fec9c8907e5.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-c18b4ac34e93857f7437c28f94923dc0.woff2) format("woff2"),url(/static/montserrat-latin-600-010ceaeb92611d327450a647f8ce6017.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-2dbbde16b836db7a390a71d3aa2a232e.woff2) format("woff2"),url(/static/montserrat-latin-600italic-045adf4940dd14d523350697cd984663.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-66fd2310725b78026454e50d0dd9effc.woff2) format("woff2"),url(/static/montserrat-latin-700-a7a97263d97c409f1a624f88d4f8f00e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-a9005293d3425d6e611c7c5f451d6f68.woff2) format("woff2"),url(/static/montserrat-latin-700italic-2413952457cc83b0bc6fe20b12ffa15b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-abbac7439df45ab1a1e316d480a5c281.woff2) format("woff2"),url(/static/montserrat-latin-800-5e564db333b8b21c83b84ed531d94eb2.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-4dac3f51b5a7a0609d210cc4fd4d5980.woff2) format("woff2"),url(/static/montserrat-latin-800italic-61120b3c6f076e91b0a7e86ac6966634.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-041d8fc07df6765187171717d5b810fb.woff2) format("woff2"),url(/static/montserrat-latin-900-c440708c3b73b3d9cea7e345718de728.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-3028f5dd9ff9ce34cb18fac0f6ffbbda.woff2) format("woff2"),url(/static/montserrat-latin-900italic-1d7048d5048513c46705b15fb67a4379.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.command-line-prompt{border-right:1px solid #999;display:block;float:left;font-size:100%;letter-spacing:-1px;margin-right:1em;pointer-events:none;text-align:right;-webkit-user-select:none;user-select:none}.command-line-prompt>span:before{content:" ";display:block;opacity:.7;padding-right:.8em}.command-line-prompt>span[data-user]:before{content:"[" attr(data-user) "@" attr(data-host) "] $"}.command-line-prompt>span[data-user=root]:before{content:"[" attr(data-user) "@" attr(data-host) "] #"}.command-line-prompt>span[data-prompt]:before{content:attr(data-prompt)}.command-line-prompt>span[data-continuation-prompt]:before{content:attr(data-continuation-prompt)}.command-line span.token.output{opacity:.7}img{background-color:#ecebeb;padding:10px}a.social-icon{box-shadow:none}.circle-image,a.social-icon:hover{border-radius:50%;box-shadow:2px 2px 2px 1px rgba(0,0,0,.2);-o-object-fit:cover;object-fit:cover;opacity:1}</style><link href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css" rel="stylesheet"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><title data-react-helmet="true">Managing state in Flutter apps with streaming (Rxdart and get_it) | Pedro&#x27;s Tech Blog</title><link rel="alternate" type="application/rss+xml" title="Your Site&#x27;s RSS Feed" href="/rss.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Pedro&#x27;s Tech Blog</a></h3></header><main><h1>Managing state in Flutter apps with streaming (Rxdart and get_it)</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem;margin-top:-1.75rem">July 18, 2022</p><div><p>Managing state in a client app is always a tricky (and opinionated) topic.
Web developers are familiar with tools like Redux or MobX. These tools follow very specific patterns that are not always easy to learn or understand by new developers. </p>
<p>These same tools exist in the Flutter world, but recently I’ve been exploring an alternative that may seem consistently easier. We can manage app state with rxdart and get_it.</p>
<h1>Some background</h1>
<p>At any given moment, an application will have <em>state</em>. If we think of an app like Instagram, the state can be
the list of posts and stories the application renders. State can also be your app preferences, the contents of the
story you’re about to post, the list of notifications and the number of un-read messages.</p>
<p>In general, state is data.</p>
<p>Let’s think of notifications. When a user sends you a message, many components in the application need to reflect this change of state: The little red dot that tells you have un-red messages must be rendered, the list of messages must be updated, and so on.</p>
<p>At a lower level, state is a collection of variables. In Flutter, we extend the <code class="language-text">StatefulWidget</code> class when we want to create a widget that will contain state:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-0-dart" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-dart  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Dart" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-0.dart">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">&#39;package:flutter/material.dart&#39;</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC2" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L3" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-c1">Update</span> {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L4" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">Update</span>({<span class="pl-k">required</span> <span class="pl-c1">this</span>.description});</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L5" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC5" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L6" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC6" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">String</span> description;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L7" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC7" class="blob-code blob-code-inner js-file-line">}</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L8" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC8" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L9" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-c1">MyStatefulWidget</span> <span class="pl-k">extends</span> <span class="pl-c1">StatefulWidget</span> {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L10" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">@override</span></td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L11" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC11" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">State&lt;<span class="pl-c1">StatefulWidget</span>&gt;</span> <span class="pl-en">createState</span>() <span class="pl-k">=&gt;</span> <span class="pl-c1">MyStatefulWidgetState</span>();</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L12" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC12" class="blob-code blob-code-inner js-file-line">}</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L13" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC13" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L14" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-c1">MyStatefulWidgetState</span> <span class="pl-k">extends</span> <span class="pl-c1">State&lt;<span class="pl-c1">MyStatefulWidget</span>&gt;</span> {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L15" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC15" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">List&lt;<span class="pl-c1">Update</span>&gt;</span> updates <span class="pl-k">=</span> [];</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L16" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC16" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L17" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC17" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">@override</span></td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L18" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC18" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">Widget</span> <span class="pl-en">build</span>(<span class="pl-c1">BuildContext</span> context) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L19" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC19" class="blob-code blob-code-inner js-file-line">    <span class="pl-en">print</span>(<span class="pl-s">&quot;Updates: $<span class="pl-v">updates</span>&quot;</span>);</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L20" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC20" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-c1">Column</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L21" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC21" class="blob-code blob-code-inner js-file-line">      children<span class="pl-k">:</span> [</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L22" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC22" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">ElevatedButton</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L23" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC23" class="blob-code blob-code-inner js-file-line">          onPressed<span class="pl-k">:</span> () {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L24" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC24" class="blob-code blob-code-inner js-file-line">            <span class="pl-en">fetchUpdates</span>().<span class="pl-en">then</span>((newUpdates) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L25" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="25"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC25" class="blob-code blob-code-inner js-file-line">              <span class="pl-en">setState</span>(() {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L26" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="26"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC26" class="blob-code blob-code-inner js-file-line">                updates <span class="pl-k">=</span> newUpdates;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L27" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="27"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC27" class="blob-code blob-code-inner js-file-line">              });</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L28" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="28"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC28" class="blob-code blob-code-inner js-file-line">            });</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L29" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="29"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC29" class="blob-code blob-code-inner js-file-line">          },</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L30" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="30"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC30" class="blob-code blob-code-inner js-file-line">          child<span class="pl-k">:</span> <span class="pl-k">const</span> <span class="pl-c1">Text</span>(<span class="pl-s">&quot;Fetch notifications&quot;</span>),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L31" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="31"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC31" class="blob-code blob-code-inner js-file-line">        ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L32" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="32"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC32" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">Flexible</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L33" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="33"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC33" class="blob-code blob-code-inner js-file-line">          child<span class="pl-k">:</span> <span class="pl-c1">ListView</span>.<span class="pl-en">builder</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L34" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="34"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC34" class="blob-code blob-code-inner js-file-line">            itemCount<span class="pl-k">:</span> updates.length,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L35" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="35"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC35" class="blob-code blob-code-inner js-file-line">            itemBuilder<span class="pl-k">:</span> (<span class="pl-c1">BuildContext</span> context, <span class="pl-c1">int</span> index) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L36" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="36"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC36" class="blob-code blob-code-inner js-file-line">              <span class="pl-k">return</span> <span class="pl-c1">ListTile</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L37" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="37"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC37" class="blob-code blob-code-inner js-file-line">                title<span class="pl-k">:</span> <span class="pl-c1">Text</span>(updates[index].description),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L38" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="38"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC38" class="blob-code blob-code-inner js-file-line">              );</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L39" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="39"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC39" class="blob-code blob-code-inner js-file-line">            },</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L40" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="40"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC40" class="blob-code blob-code-inner js-file-line">          ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L41" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="41"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC41" class="blob-code blob-code-inner js-file-line">        )</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L42" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="42"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC42" class="blob-code blob-code-inner js-file-line">      ],</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L43" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="43"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC43" class="blob-code blob-code-inner js-file-line">    );</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L44" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="44"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC44" class="blob-code blob-code-inner js-file-line">  }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-L45" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="45"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-0-dart-LC45" class="blob-code blob-code-inner js-file-line">}</td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-0.dart" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-0-dart">
          blog-gist-2022-7-flutter-app-state-0.dart
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<p>The <code class="language-text">MyStatefulWidgetState</code> widget renders the following view:</p>
<p><img src="/e05cbd91cc1e7f9f8fe2ac166bf9a66a/appstate1.gif" alt="User clicks in the button and a list of notifications is rendered"></p>
<p>In this example, when the user clicks the <code class="language-text">Fetch notifications</code> button, the function <code class="language-text">fetchUpdates()</code> is called. This function returns a Future object, and once the request completes successfully, we set the list of updates in the variable <code class="language-text">updates</code>.</p>
<p>The variable <code class="language-text">updates</code> is state within this widget.</p>
<p>Calling <code class="language-text">setState</code> when we set the new value of the variable <code class="language-text">updates</code> will re-render this widget <em>only</em>. If this widget contains other widgets (e.g. the <code class="language-text">ElevatedButton</code> and the <code class="language-text">ListView</code>), those widgets will be re-rendered as well.</p>
<p>Now, we want to add an icon to the top bar to indicate the user that new notifications have been fetched. The following widget will render that notification icon:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-1-dart" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-dart  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Dart" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-1.dart">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">&#39;package:flutter/material.dart&#39;</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC2" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L3" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-c1">NotificationIcon</span> <span class="pl-k">extends</span> <span class="pl-c1">StatelessWidget</span> {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L4" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">@override</span></td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L5" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">Widget</span> <span class="pl-en">build</span>(<span class="pl-c1">BuildContext</span> context) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L6" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> notificationsCount <span class="pl-k">=</span> <span class="pl-c1">0</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L7" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-c1">Stack</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L8" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC8" class="blob-code blob-code-inner js-file-line">        children<span class="pl-k">:</span> <span class="pl-k">&lt;</span><span class="pl-c1">Widget</span><span class="pl-k">&gt;</span>[</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L9" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC9" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">const</span> <span class="pl-c1">Icon</span>(<span class="pl-c1">Icons</span>.notifications),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L10" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC10" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">Positioned</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L11" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC11" class="blob-code blob-code-inner js-file-line">            right<span class="pl-k">:</span> <span class="pl-c1">0</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L12" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC12" class="blob-code blob-code-inner js-file-line">            child<span class="pl-k">:</span> <span class="pl-c1">Container</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L13" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC13" class="blob-code blob-code-inner js-file-line">            padding<span class="pl-k">:</span> <span class="pl-c1">EdgeInsets</span>.<span class="pl-en">all</span>(<span class="pl-c1">1</span>),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L14" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC14" class="blob-code blob-code-inner js-file-line">            decoration<span class="pl-k">:</span> <span class="pl-c1">BoxDecoration</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L15" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC15" class="blob-code blob-code-inner js-file-line">                color<span class="pl-k">:</span> <span class="pl-c1">Colors</span>.red,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L16" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC16" class="blob-code blob-code-inner js-file-line">                borderRadius<span class="pl-k">:</span> <span class="pl-c1">BorderRadius</span>.<span class="pl-en">circular</span>(<span class="pl-c1">6</span>),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L17" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC17" class="blob-code blob-code-inner js-file-line">            ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L18" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC18" class="blob-code blob-code-inner js-file-line">            constraints<span class="pl-k">:</span> <span class="pl-k">const</span> <span class="pl-c1">BoxConstraints</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L19" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC19" class="blob-code blob-code-inner js-file-line">                minWidth<span class="pl-k">:</span> <span class="pl-c1">12</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L20" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC20" class="blob-code blob-code-inner js-file-line">                minHeight<span class="pl-k">:</span> <span class="pl-c1">12</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L21" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC21" class="blob-code blob-code-inner js-file-line">            ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L22" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC22" class="blob-code blob-code-inner js-file-line">            child<span class="pl-k">:</span> <span class="pl-c1">Text</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L23" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC23" class="blob-code blob-code-inner js-file-line">                <span class="pl-s">&#39;$<span class="pl-v">notificationsCount</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L24" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC24" class="blob-code blob-code-inner js-file-line">                style<span class="pl-k">:</span> <span class="pl-k">const</span> <span class="pl-c1">TextStyle</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L25" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="25"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC25" class="blob-code blob-code-inner js-file-line">                color<span class="pl-k">:</span> <span class="pl-c1">Colors</span>.white,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L26" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="26"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC26" class="blob-code blob-code-inner js-file-line">                fontSize<span class="pl-k">:</span> <span class="pl-c1">8</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L27" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="27"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC27" class="blob-code blob-code-inner js-file-line">                ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L28" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="28"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC28" class="blob-code blob-code-inner js-file-line">                textAlign<span class="pl-k">:</span> <span class="pl-c1">TextAlign</span>.center,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L29" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="29"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC29" class="blob-code blob-code-inner js-file-line">            ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L30" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="30"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC30" class="blob-code blob-code-inner js-file-line">            ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L31" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="31"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC31" class="blob-code blob-code-inner js-file-line">        )</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L32" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="32"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC32" class="blob-code blob-code-inner js-file-line">        ],</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L33" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="33"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC33" class="blob-code blob-code-inner js-file-line">    );</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L34" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="34"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC34" class="blob-code blob-code-inner js-file-line">  }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-L35" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="35"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-1-dart-LC35" class="blob-code blob-code-inner js-file-line">}</td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-1.dart" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-1-dart">
          blog-gist-2022-7-flutter-app-state-1.dart
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<p>How can we notify the <code class="language-text">NotificationIcon</code> widget that <code class="language-text">MyStatefulWidget</code> has fetched a new list of notifications?</p>
<h2>Some options…</h2>
<p>We could re-render our component to include <code class="language-text">NotificationIcon</code> in <code class="language-text">MyStatefulWidget</code>. The problem with this approach is that we may need to also include other, unrelated widgets.</p>
<p>Another approach is to use <a href="https://api.flutter.dev/flutter/widgets/InheritedWidget-class.html">Inherited Widgets</a>. However, this approach may require us to modify other widgets than these two, which is not always possible.</p>
<p>How can we notify to independent widgets of state changes?</p>
<p>Enter state management.</p>
<h1>State management through streams</h1>
<p>Data streams are analog to queues: One part of the application will publish data to a stream and other parts of the application can subscribe that stream and consume the data it produces.</p>
<p>We can rely on streams to communicate state changes across independent components.</p>
<p>A popular implementation of streams for Flutter apps is <a href="https://pub.dev/packages/rxdart">rxdart</a>.</p>
<p>We can add them to our project with the following command:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-2-undefined" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-text  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-2.undefined">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-2-undefined-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-2-undefined-LC1" class="blob-code blob-code-inner js-file-line">flutter pub add rxdart</td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-2.undefined" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-2-undefined">
          blog-gist-2022-7-flutter-app-state-2.undefined
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<h2>Creating a stream</h2>
<p>Then, we can create a service to create a stream:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-3-dart" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-dart  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Dart" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-3.dart">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">&#39;package:rxdart/rxdart.dart&#39;</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC2" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L3" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">&#39;MyStatefulWidget.dart&#39;</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L4" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC4" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L5" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-c1">NotificationsService</span> {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L6" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC6" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">final</span> <span class="pl-c1">BehaviorSubject&lt;<span class="pl-c1">List&lt;<span class="pl-c1">Update</span>&gt;&gt;</span></span> notificationSubject <span class="pl-k">=</span> <span class="pl-c1">BehaviorSubject</span>.<span class="pl-en">seeded</span>([]);</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L7" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC7" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L8" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC8" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">ValueStream</span> <span class="pl-k">get</span> <span class="pl-en">stream$</span> =&gt; notificationSubject.stream;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L9" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC9" class="blob-code blob-code-inner js-file-line">  </td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L10" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">updateNotifications</span>(<span class="pl-c1">List&lt;<span class="pl-c1">Update</span>&gt;</span> updates) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L11" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC11" class="blob-code blob-code-inner js-file-line">    notificationSubject.<span class="pl-en">add</span>(updates);</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L12" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC12" class="blob-code blob-code-inner js-file-line">  }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-L13" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-3-dart-LC13" class="blob-code blob-code-inner js-file-line">}</td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-3.dart" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-3-dart">
          blog-gist-2022-7-flutter-app-state-3.dart
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<p>Before we can use this service, we need a way for widgets to access a shared instance of the stream. For this, we will use <a href="https://pub.dev/packages/get_it">get_it</a>:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-4-js" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="JavaScript" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-4.js">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-4-js-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-4-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>flutter</span> <span class=pl-s1>pub</span> <span class=pl-s1>add</span> <span class=pl-s1>get_it</span></td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-4.js" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-4-js">
          blog-gist-2022-7-flutter-app-state-4.js
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<h2>Registering a service</h2>
<p>This tools is a <strong>service locator</strong>: It allows us to create singleton instances of objects and share it across the application without having to pass them as paramaters.</p>
<p>We can create an instance of <code class="language-text">NotificationService</code> when the app starts as follows:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-5-dart" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-dart  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Dart" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-5.dart">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">void</span> <span class="pl-en">main</span>() {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">GetIt</span> getIt <span class="pl-k">=</span> <span class="pl-c1">GetIt</span>.<span class="pl-c1">I</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-L3" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-LC3" class="blob-code blob-code-inner js-file-line">  getIt.<span class="pl-en">registerSingleton</span>&lt;<span class="pl-c1">NotificationsService</span>&gt;(<span class="pl-c1">NotificationsService</span>());</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-L4" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">runApp</span>(<span class="pl-k">const</span> <span class="pl-c1">MyApp</span>());</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-L5" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-5-dart-LC5" class="blob-code blob-code-inner js-file-line">}</td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-5.dart" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-5-dart">
          blog-gist-2022-7-flutter-app-state-5.dart
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<p>Now, anywhere in our app, we can get this singleton instance with the following code:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-6-dart" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-dart  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Dart" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-6.dart">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-6-dart-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-6-dart-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">GetIt</span> getIt <span class="pl-k">=</span> <span class="pl-c1">GetIt</span>.<span class="pl-c1">I</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-6-dart-L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-6-dart-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> service <span class="pl-k">=</span> getIt.<span class="pl-k">get</span><span class="pl-k">&lt;</span><span class="pl-c1">NotificationsService</span><span class="pl-k">&gt;</span>();</td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-6.dart" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-6-dart">
          blog-gist-2022-7-flutter-app-state-6.dart
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<p>We update <code class="language-text">MyStatefulWidgetState</code> to get the service, and send the new updates to the stream:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-7-dart" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-dart  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Dart" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-7.dart">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-en">fetchUpdates</span>().<span class="pl-en">then</span>((newUpdates) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">GetIt</span> getIt <span class="pl-k">=</span> <span class="pl-c1">GetIt</span>.<span class="pl-c1">I</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-L3" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">var</span> service <span class="pl-k">=</span> getIt.<span class="pl-k">get</span><span class="pl-k">&lt;</span><span class="pl-c1">NotificationsService</span><span class="pl-k">&gt;</span>();</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-L4" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-LC4" class="blob-code blob-code-inner js-file-line">    service.<span class="pl-en">updateNotifications</span>(newUpdates);</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-L5" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-7-dart-LC5" class="blob-code blob-code-inner js-file-line">    ...</td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-7.dart" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-7-dart">
          blog-gist-2022-7-flutter-app-state-7.dart
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<h2>Subscribing to the stream</h2>
<p>Now, we will update <code class="language-text">NotificationIcon</code> to subscribe to the stream and listen for new updates.</p>
<p>For this, we will use <code class="language-text">StreamBuilder</code>, which accepts a stream and re-renders its contents when the stream produces new results.</p>
<p>The following code shows the updated version of <code class="language-text">NotificationIcon</code>:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-8-dart" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-dart  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Dart" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-8.dart">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">&#39;package:flutter/material.dart&#39;</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">&#39;package:get_it/get_it.dart&#39;</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L3" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC3" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L4" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">&#39;MyStatefulWidget.dart&#39;</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L5" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> <span class="pl-s">&#39;NotificationsService.dart&#39;</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L6" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC6" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L7" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-k">class</span> <span class="pl-c1">NotificationIcon</span> <span class="pl-k">extends</span> <span class="pl-c1">StatelessWidget</span> {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L8" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC8" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">late</span> <span class="pl-c1">NotificationsService</span> service;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L9" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC9" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L10" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">NotificationIcon</span>() {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L11" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC11" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">GetIt</span> getIt <span class="pl-k">=</span> <span class="pl-c1">GetIt</span>.<span class="pl-c1">I</span>;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L12" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC12" class="blob-code blob-code-inner js-file-line">    service <span class="pl-k">=</span> getIt.<span class="pl-k">get</span><span class="pl-k">&lt;</span><span class="pl-c1">NotificationsService</span><span class="pl-k">&gt;</span>();</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L13" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC13" class="blob-code blob-code-inner js-file-line">  }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L14" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC14" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L15" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC15" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">@override</span></td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L16" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC16" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">Widget</span> <span class="pl-en">build</span>(<span class="pl-c1">BuildContext</span> context) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L17" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC17" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-c1">StreamBuilder</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L18" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC18" class="blob-code blob-code-inner js-file-line">      stream<span class="pl-k">:</span> service.stream$,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L19" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC19" class="blob-code blob-code-inner js-file-line">      builder<span class="pl-k">:</span> (<span class="pl-c1">BuildContext</span> context, <span class="pl-c1">AsyncSnapshot&lt;<span class="pl-c1">dynamic</span>&gt;</span> snapshot) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L20" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC20" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (<span class="pl-k">!</span>snapshot.hasData <span class="pl-k">||</span> snapshot.data <span class="pl-k">==</span> <span class="pl-c1">null</span>) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L21" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC21" class="blob-code blob-code-inner js-file-line">          <span class="pl-k">return</span> <span class="pl-k">const</span> <span class="pl-c1">CircularProgressIndicator</span>();</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L22" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC22" class="blob-code blob-code-inner js-file-line">        }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L23" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC23" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L24" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC24" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">List&lt;<span class="pl-c1">Update</span>&gt;</span> updates <span class="pl-k">=</span> snapshot.data;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L25" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="25"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC25" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L26" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="26"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC26" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (updates.isEmpty) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L27" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="27"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC27" class="blob-code blob-code-inner js-file-line">          <span class="pl-k">return</span> <span class="pl-c1">Container</span>();</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L28" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="28"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC28" class="blob-code blob-code-inner js-file-line">        }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L29" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="29"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC29" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">var</span> notificationsCount <span class="pl-k">=</span> updates.length;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L30" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="30"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC30" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L31" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="31"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC31" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">return</span> <span class="pl-c1">Stack</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L32" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="32"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC32" class="blob-code blob-code-inner js-file-line">          children<span class="pl-k">:</span> <span class="pl-k">&lt;</span><span class="pl-c1">Widget</span><span class="pl-k">&gt;</span>[</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L33" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="33"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC33" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">const</span> <span class="pl-c1">Icon</span>(<span class="pl-c1">Icons</span>.notifications),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L34" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="34"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC34" class="blob-code blob-code-inner js-file-line">            <span class="pl-c1">Positioned</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L35" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="35"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC35" class="blob-code blob-code-inner js-file-line">              right<span class="pl-k">:</span> <span class="pl-c1">0</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L36" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="36"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC36" class="blob-code blob-code-inner js-file-line">              child<span class="pl-k">:</span> <span class="pl-c1">Container</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L37" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="37"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC37" class="blob-code blob-code-inner js-file-line">                padding<span class="pl-k">:</span> <span class="pl-c1">EdgeInsets</span>.<span class="pl-en">all</span>(<span class="pl-c1">1</span>),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L38" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="38"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC38" class="blob-code blob-code-inner js-file-line">                decoration<span class="pl-k">:</span> <span class="pl-c1">BoxDecoration</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L39" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="39"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC39" class="blob-code blob-code-inner js-file-line">                  color<span class="pl-k">:</span> <span class="pl-c1">Colors</span>.red,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L40" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="40"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC40" class="blob-code blob-code-inner js-file-line">                  borderRadius<span class="pl-k">:</span> <span class="pl-c1">BorderRadius</span>.<span class="pl-en">circular</span>(<span class="pl-c1">6</span>),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L41" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="41"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC41" class="blob-code blob-code-inner js-file-line">                ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L42" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="42"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC42" class="blob-code blob-code-inner js-file-line">                constraints<span class="pl-k">:</span> <span class="pl-k">const</span> <span class="pl-c1">BoxConstraints</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L43" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="43"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC43" class="blob-code blob-code-inner js-file-line">                  minWidth<span class="pl-k">:</span> <span class="pl-c1">12</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L44" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="44"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC44" class="blob-code blob-code-inner js-file-line">                  minHeight<span class="pl-k">:</span> <span class="pl-c1">12</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L45" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="45"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC45" class="blob-code blob-code-inner js-file-line">                ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L46" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="46"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC46" class="blob-code blob-code-inner js-file-line">                child<span class="pl-k">:</span> <span class="pl-c1">Text</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L47" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="47"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC47" class="blob-code blob-code-inner js-file-line">                  <span class="pl-s">&#39;$<span class="pl-v">notificationsCount</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L48" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="48"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC48" class="blob-code blob-code-inner js-file-line">                  style<span class="pl-k">:</span> <span class="pl-k">const</span> <span class="pl-c1">TextStyle</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L49" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="49"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC49" class="blob-code blob-code-inner js-file-line">                    color<span class="pl-k">:</span> <span class="pl-c1">Colors</span>.white,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L50" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="50"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC50" class="blob-code blob-code-inner js-file-line">                    fontSize<span class="pl-k">:</span> <span class="pl-c1">8</span>,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L51" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="51"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC51" class="blob-code blob-code-inner js-file-line">                  ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L52" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="52"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC52" class="blob-code blob-code-inner js-file-line">                  textAlign<span class="pl-k">:</span> <span class="pl-c1">TextAlign</span>.center,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L53" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="53"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC53" class="blob-code blob-code-inner js-file-line">                ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L54" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="54"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC54" class="blob-code blob-code-inner js-file-line">              ),</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L55" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="55"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC55" class="blob-code blob-code-inner js-file-line">            )</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L56" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="56"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC56" class="blob-code blob-code-inner js-file-line">          ],</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L57" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="57"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC57" class="blob-code blob-code-inner js-file-line">        );</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L58" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="58"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC58" class="blob-code blob-code-inner js-file-line">      },</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L59" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="59"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC59" class="blob-code blob-code-inner js-file-line">    );</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L60" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="60"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC60" class="blob-code blob-code-inner js-file-line">  }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-L61" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="61"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-8-dart-LC61" class="blob-code blob-code-inner js-file-line">}</td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-8.dart" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-8-dart">
          blog-gist-2022-7-flutter-app-state-8.dart
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<p>Focus on the important part here:</p>
<div id="gist117422433" class="gist">
    <div class="gist-file" translate="no">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-blog-gist-2022-7-flutter-app-state-9-dart" class="file my-2">
    
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-dart  ">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">      <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">  Show hidden characters
  
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file js-search-container" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Dart" data-tagsearch-path="blog-gist-2022-7-flutter-app-state-9.dart">
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC1" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">return</span> <span class="pl-c1">StreamBuilder</span>(</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC2" class="blob-code blob-code-inner js-file-line">      stream<span class="pl-k">:</span> service.stream$,</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L3" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC3" class="blob-code blob-code-inner js-file-line">      builder<span class="pl-k">:</span> (<span class="pl-c1">BuildContext</span> context, <span class="pl-c1">AsyncSnapshot&lt;<span class="pl-c1">dynamic</span>&gt;</span> snapshot) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L4" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC4" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (<span class="pl-k">!</span>snapshot.hasData <span class="pl-k">||</span> snapshot.data <span class="pl-k">==</span> <span class="pl-c1">null</span>) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L5" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC5" class="blob-code blob-code-inner js-file-line">          <span class="pl-k">return</span> <span class="pl-k">const</span> <span class="pl-c1">CircularProgressIndicator</span>();</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L6" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC6" class="blob-code blob-code-inner js-file-line">        }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L7" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC7" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L8" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC8" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1">List&lt;<span class="pl-c1">Update</span>&gt;</span> updates <span class="pl-k">=</span> snapshot.data;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L9" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC9" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L10" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC10" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (updates.isEmpty) {</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L11" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC11" class="blob-code blob-code-inner js-file-line">          <span class="pl-k">return</span> <span class="pl-c1">Container</span>();</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L12" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC12" class="blob-code blob-code-inner js-file-line">        }</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L13" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC13" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">var</span> notificationsCount <span class="pl-k">=</span> updates.length;</td>
        </tr>
        <tr>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-L14" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="file-blog-gist-2022-7-flutter-app-state-9-dart-LC14" class="blob-code blob-code-inner js-file-line">        <span class="pl-c">// ... render the notification icon</span></td>
        </tr>
  </table>
</div>


    </div>


  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8/raw/6d18fa604fb34684982871e4da3eef96034c12a3/blog-gist-2022-7-flutter-app-state-9.dart" style="float:right">view raw</a>
        <a href="https://gist.github.com/pfernandom/34e4ee9117f74eef6924a5a2ca2621c8#file-blog-gist-2022-7-flutter-app-state-9-dart">
          blog-gist-2022-7-flutter-app-state-9.dart
        </a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div>
<p>Since the stream may be empty, we need to handle the case where the widget has not received any updates. The class <code class="language-text">AsyncSnapshot</code> has multiple methods that allow us to check the stream state and act accordingly.</p>
<p>Now, when the user clicks in the button, the new updates will be sent to the stream and all widgets listening to it will re-render:</p>
<p><img src="/a7b95d5f07ed29c7d3ba4d3b5a3c76fe/appstate2.gif" alt="User clicks in the button, a list of notifications is rendered and the notification icon is rendered as well."></p>
<p>We could take this example even further and make <code class="language-text">MyStatefulWidgetState</code> a stateless widget, getting its state directly from the same stream. Feel free to take this extra step and practice this state management approach.</p>
<h1>Pros and cons</h1>
<p>Some of the advantages of this state management approach are:</p>
<ul>
<li>It is simple. Multiple, independent widgets can be notified of state changes without changing their parent widgets, and without passing any extra props.</li>
<li>It allows us to use more stateless widgets. Stateless widgets have a more predictable behavior, and require less boilerplate code.</li>
<li>It reduces unnecessary re-rendering. If we were to pass app state as properties through the widget tree, all intermediate widgets will be re-rendered when state changes. With this approach, only the widgets that need to re-render do so.</li>
<li>Less conventions. There is no defined API to follow. No reducers or mappers. While conventions are useful for large projects, smaller apps can benefit of the flexibility this approach provides.</li>
</ul>
<p>On the other side, the disadvantages are:</p>
<ul>
<li>It may be <em>too</em> flexible. This approach opens the door to a lack of structure in the project. More structure is better for large teams and large code bases.</li>
<li>If not used responsibly, <code class="language-text">get_it</code> can lead to a bunch of global state. Developers can abuse the magic of this service locator and add state that doesn’t need to be stored.</li>
</ul>
<h1>Conclusion</h1>
<p>State management is hard. Because of these, developers have created many tools to store state and communicate state changes. Some of those tools will fit better to your specific project needs.</p>
<p>Using streams along with a service locator is a simple yet effective way to handle global state.</p></div><hr style="margin-bottom:1.75rem"/><div style="margin-bottom:4.375rem"><div style="display:flex"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAQBAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAZMy9JqZUSjQjW0Zv//EABoQAAIDAQEAAAAAAAAAAAAAAAECAAMREgT/2gAIAQEAAQUC0S0cryYxxrGaAaPRWqVuoLJSgX//xAAYEQEBAAMAAAAAAAAAAAAAAAAAEQESUf/aAAgBAwEBPwHXER1H/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/AbqsV//EABwQAAICAwEBAAAAAAAAAAAAAAABAhEhMVEQYf/aAAgBAQAGPwLCV3w2/t+UjKosjJLLZBdkaP/EABwQAQACAwEBAQAAAAAAAAAAAAEAESExUUFxkf/aAAgBAQABPyG42uAx7xeIPBllkR7LWhxblMPYUMy2MDVD+EAGX1n/2gAMAwEAAgADAAAAEKwIQ//EABkRAAIDAQAAAAAAAAAAAAAAAAABEBEhUf/aAAgBAwEBPxBWMg8Qpw//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EOhZnwlbf//EAB4QAQADAQACAwEAAAAAAAAAAAEAESExQWFRkcHR/9oACAEBAAE/EBcyC57zblbSUpR30HOSzlTvJcrItX9gxfY+A9EtAoL5GJHfsw+CGm1NvCn7A88XaWz/2Q==" alt="Pedro Marquez" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/e9801a991bf250fe0ea268c3d2e1948c/99438/profile-pic.jpg 1x,
/static/e9801a991bf250fe0ea268c3d2e1948c/aba1d/profile-pic.jpg 1.5x,
/static/e9801a991bf250fe0ea268c3d2e1948c/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/e9801a991bf250fe0ea268c3d2e1948c/99438/profile-pic.jpg 1x,
/static/e9801a991bf250fe0ea268c3d2e1948c/aba1d/profile-pic.jpg 1.5x,
/static/e9801a991bf250fe0ea268c3d2e1948c/b315d/profile-pic.jpg 2x" src="/static/e9801a991bf250fe0ea268c3d2e1948c/99438/profile-pic.jpg" alt="Pedro Marquez" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Pedro Marquez</strong> who lives and works in Austin, Texas, doing all things front-end (and some back-end too).</p></div><div style="position:fixed;top:1em;right:1em;display:flex;flex-direction:column"><a href="https://www.instagram.com/pedro.marquez.soto/" class="social-icon" style="display:inline-block;width:50px;height:50px;position:relative;overflow:hidden;vertical-align:middle;margin-bottom:10px" aria-label="instagram"><div class="social-container" style="position:absolute;top:0;left:0;width:100%;height:100%"><svg class="social-svg" style="border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%;fill-rule:evenodd" viewBox="0 0 64 64"><g class="social-svg-background" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:transparent"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:transparent"><path d="M 39.88,25.89 C 40.86,25.89 41.65,25.10 41.65,24.12 41.65,23.14 40.86,22.35 39.88,22.35 38.90,22.35 38.11,23.14 38.11,24.12 38.11,25.10 38.90,25.89 39.88,25.89 Z M 32.00,24.42 C 27.82,24.42 24.42,27.81 24.42,32.00 24.42,36.19 27.82,39.58 32.00,39.58 36.18,39.58 39.58,36.18 39.58,32.00 39.58,27.82 36.18,24.42 32.00,24.42 Z M 32.00,36.92 C 29.28,36.92 27.08,34.72 27.08,32.00 27.08,29.28 29.28,27.08 32.00,27.08 34.72,27.08 36.92,29.28 36.92,32.00 36.92,34.72 34.72,36.92 32.00,36.92 Z M 32.00,19.90 C 35.94,19.90 36.41,19.92 37.96,19.99 39.41,20.05 40.19,20.29 40.71,20.50 41.40,20.77 41.89,21.08 42.41,21.60 42.92,22.12 43.24,22.61 43.51,23.30 43.71,23.82 43.95,24.60 44.02,26.04 44.09,27.60 44.11,28.06 44.11,32.01 44.11,35.95 44.09,36.41 44.02,37.97 43.95,39.41 43.71,40.19 43.51,40.71 43.24,41.40 42.92,41.90 42.41,42.41 41.89,42.93 41.40,43.25 40.71,43.51 40.19,43.71 39.41,43.96 37.96,44.02 36.41,44.09 35.94,44.11 32.00,44.11 28.06,44.11 27.59,44.09 26.04,44.02 24.59,43.96 23.81,43.72 23.29,43.51 22.60,43.24 22.11,42.93 21.59,42.41 21.08,41.90 20.76,41.40 20.49,40.71 20.29,40.19 20.05,39.41 19.98,37.97 19.91,36.41 19.89,35.95 19.89,32.01 19.89,28.06 19.91,27.60 19.98,26.04 20.05,24.60 20.29,23.82 20.49,23.30 20.76,22.61 21.08,22.12 21.59,21.60 22.11,21.08 22.60,20.76 23.29,20.50 23.81,20.30 24.59,20.05 26.04,19.99 27.59,19.91 28.06,19.90 32.00,19.90 Z M 32.00,17.24 C 27.99,17.24 27.49,17.26 25.91,17.33 24.34,17.40 23.27,17.65 22.33,18.01 21.36,18.39 20.54,18.90 19.72,19.72 18.90,20.54 18.39,21.37 18.01,22.33 17.65,23.27 17.40,24.34 17.33,25.92 17.26,27.49 17.24,27.99 17.24,32.00 17.24,36.01 17.26,36.51 17.33,38.09 17.40,39.66 17.65,40.73 18.01,41.67 18.39,42.65 18.90,43.47 19.72,44.29 20.54,45.11 21.37,45.61 22.33,45.99 23.27,46.36 24.34,46.61 25.92,46.68 27.49,46.75 27.99,46.77 32.01,46.77 36.02,46.77 36.52,46.75 38.09,46.68 39.66,46.61 40.74,46.36 41.68,45.99 42.65,45.62 43.47,45.11 44.29,44.29 45.11,43.47 45.62,42.64 46.00,41.67 46.36,40.74 46.61,39.66 46.68,38.09 46.75,36.51 46.77,36.01 46.77,32.00 46.77,27.99 46.75,27.49 46.68,25.91 46.61,24.34 46.36,23.27 46.00,22.33 45.62,21.35 45.11,20.53 44.29,19.71 43.47,18.89 42.65,18.39 41.68,18.01 40.74,17.64 39.67,17.39 38.09,17.32 36.51,17.26 36.01,17.24 32.00,17.24 Z"></path></g><g class="social-svg-mask" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:#e94475"><path d="M0,0v64h64V0H0z M 42.03,23.99 C 42.03,24.99 41.22,25.79 40.23,25.79 39.23,25.79 38.43,24.99 38.43,23.99 38.43,22.99 39.23,22.19 40.23,22.19 41.22,22.19 42.03,22.99 42.03,23.99 Z M 24.52,31.99 C 24.52,27.74 27.97,24.29 32.22,24.29 36.47,24.29 39.92,27.75 39.92,31.99 39.92,36.24 36.47,39.70 32.22,39.70 27.97,39.70 24.52,36.25 24.52,31.99 Z M 27.22,31.99 C 27.22,34.76 29.46,36.99 32.22,36.99 34.98,36.99 37.22,34.76 37.22,31.99 37.22,29.23 34.98,27.00 32.22,27.00 29.46,27.00 27.22,29.23 27.22,31.99 Z M 38.28,19.79 C 36.70,19.72 36.22,19.70 32.22,19.70 28.22,19.70 27.74,19.71 26.17,19.79 24.69,19.85 23.90,20.11 23.37,20.31 22.67,20.58 22.17,20.90 21.65,21.43 21.13,21.96 20.80,22.46 20.53,23.16 20.33,23.68 20.08,24.48 20.01,25.94 19.94,27.52 19.92,27.99 19.92,32.01 19.92,36.01 19.94,36.48 20.01,38.06 20.08,39.52 20.33,40.32 20.53,40.84 20.80,41.54 21.13,42.05 21.65,42.57 22.17,43.10 22.67,43.41 23.37,43.69 23.90,43.90 24.69,44.15 26.17,44.21 27.74,44.28 28.22,44.30 32.22,44.30 36.22,44.30 36.70,44.28 38.28,44.21 39.75,44.15 40.54,43.89 41.07,43.69 41.77,43.42 42.27,43.10 42.80,42.57 43.32,42.05 43.64,41.54 43.91,40.84 44.12,40.32 44.36,39.52 44.43,38.06 44.50,36.48 44.52,36.01 44.52,32.01 44.52,27.99 44.50,27.52 44.43,25.94 44.36,24.48 44.12,23.68 43.91,23.16 43.64,22.46 43.32,21.96 42.80,21.43 42.27,20.90 41.77,20.59 41.07,20.31 40.54,20.10 39.75,19.85 38.28,19.79 Z M 26.03,17.09 C 27.64,17.02 28.15,17.00 32.22,17.00 36.27,17.00 36.80,17.02 38.38,17.08 38.38,17.08 38.41,17.08 38.41,17.08 40.01,17.15 41.10,17.41 42.06,17.78 43.04,18.17 43.87,18.68 44.71,19.51 45.54,20.34 46.06,21.18 46.44,22.17 46.81,23.13 47.06,24.21 47.14,25.81 47.21,27.41 47.23,27.92 47.23,31.99 47.23,36.07 47.21,36.58 47.14,38.18 47.06,39.78 46.81,40.87 46.44,41.82 46.06,42.80 45.54,43.65 44.71,44.48 43.87,45.31 43.04,45.83 42.06,46.21 41.10,46.58 40.00,46.84 38.41,46.91 36.81,46.98 36.31,47.00 32.23,47.00 28.15,47.00 27.64,46.98 26.04,46.91 24.44,46.84 23.35,46.58 22.40,46.21 21.42,45.82 20.58,45.31 19.75,44.48 18.91,43.65 18.39,42.81 18.01,41.82 17.64,40.86 17.39,39.78 17.32,38.18 17.25,36.58 17.23,36.07 17.23,31.99 17.23,27.92 17.25,27.41 17.32,25.82 17.39,24.21 17.64,23.13 18.01,22.17 18.39,21.20 18.91,20.35 19.75,19.52 20.58,18.69 21.41,18.17 22.40,17.78 23.35,17.42 24.44,17.16 26.03,17.09 Z"></path></g></svg></div></a><a href="https://www.linkedin.com/in/pedro-fernando-m%C3%A1rquez-soto-1218a345/" class="social-icon" style="display:inline-block;width:50px;height:50px;position:relative;overflow:hidden;vertical-align:middle;margin-bottom:10px" aria-label="linkedin"><div class="social-container" style="position:absolute;top:0;left:0;width:100%;height:100%"><svg class="social-svg" style="border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%;fill-rule:evenodd" viewBox="0 0 64 64"><g class="social-svg-background" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:transparent"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:transparent"><path d="M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"></path></g><g class="social-svg-mask" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:#007fb1"><path d="M0,0v64h64V0H0z M25.8,44h-5.4V26.6h5.4V44z M23.1,24.3c-1.7,0-3.1-1.4-3.1-3.1c0-1.7,1.4-3.1,3.1-3.1 c1.7,0,3.1,1.4,3.1,3.1C26.2,22.9,24.8,24.3,23.1,24.3z M46,44h-5.4v-8.4c0-2,0-4.6-2.8-4.6c-2.8,0-3.2,2.2-3.2,4.5V44h-5.4V26.6 h5.2V29h0.1c0.7-1.4,2.5-2.8,5.1-2.8c5.5,0,6.5,3.6,6.5,8.3V44z"></path></g></svg></div></a><a href="https://medium.com/@pfernandom" class="social-icon" style="display:inline-block;width:50px;height:50px;position:relative;overflow:hidden;vertical-align:middle" aria-label="medium"><div class="social-container" style="position:absolute;top:0;left:0;width:100%;height:100%"><svg class="social-svg" style="border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%;fill-rule:evenodd" viewBox="0 0 64 64"><g class="social-svg-background" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:transparent"><circle cx="32" cy="32" r="31"></circle></g><g class="social-svg-icon" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:transparent"><path d="M47,23.7h-1.2c-0.4,0-0.9,0.6-0.9,1v14.7c0,0.4,0.5,1,0.9,1H47v3.4H36.4v-3.4h2.1V24.9h-0.1 l-5.3,18.9h-4.1l-5.2-18.9h-0.1v15.5H26v3.4h-9v-3.4h1.2c0.5,0,1-0.6,1-1V24.7c0-0.4-0.5-1-1-1H17v-3.6h11.3l3.7,13.8h0.1l3.7-13.8 H47V23.7z"></path></g><g class="social-svg-mask" style="-ms-transition:fill 170ms ease-in-out;-o-transition:fill 170ms ease-in-out;-moz-transition:fill 170ms ease-in-out;-webkit-transition:fill 170ms ease-in-out;transition:fill 170ms ease-in-out;fill:#333332"><path d="M0,0v64h64V0H0z M47,23.7h-1.2c-0.4,0-0.9,0.6-0.9,1v14.7c0,0.4,0.5,1,0.9,1H47v3.4H36.4v-3.4h2.1V24.9h-0.1 l-5.3,18.9h-4.1l-5.2-18.9h-0.1v15.5H26v3.4h-9v-3.4h1.2c0.5,0,1-0.6,1-1V24.7c0-0.4-0.5-1-1-1H17v-3.6h11.3l3.7,13.8h0.1l3.7-13.8 H47V23.7z"></path></g></svg></div></a></div></div><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/2019/">← <!-- -->What happens when you click on the browser&#x27;s &quot;back&quot; button?</a></li><li><a rel="next" href="/2022/7/component-wonder/">The wonderful world of component-based development<!-- --> →</a></li></ul></main><footer>© <!-- -->2022<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XV91RNV97M"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-XV91RNV97M', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2022/7/flutter-app-state/";window.___webpackCompilationHash="e55b92815a922c528f04";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-67664a8ccc6c9f02b880.js"],"app":["/app-4eb5952879be96316895.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-4e7fff1ad732a3f7cea3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1c5cf424780c7ddbf4d9.js"],"component---src-pages-index-js":["/component---src-pages-index-js-0bec67ff05a61fbd6096.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-96a3d8effc6e18f52b66.js"]};/*]]>*/</script><script src="/polyfill-67664a8ccc6c9f02b880.js" nomodule=""></script><script src="/app-4eb5952879be96316895.js" async=""></script><script src="/framework-9480f6525393a80e2a4c.js" async=""></script><script src="/webpack-runtime-ab6bd0e3a8a5f5f78c89.js" async=""></script></body></html>